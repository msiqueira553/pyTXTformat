#!/usr/bin/python3
#-*- coding: utf-8 -*-
#
# Pequeno programa para melhorar tabulações, espaços e capítulos em arquivos de textos simples(txt)
#                       -----------------------------
#                       -       23/07/2014          -
#                       - Marcio Luís de Siqueira   -
#                       - msiqueira553@yahoo.com.br -
#                       -----------------------------
# - 30/08/2015 - Adicionada Interface gráfica em Gtk3 -+-
#                Melhorado o algoritimo de correção de espaços e reconhecimento de capítulos
# - 22/04/2016 - Incluido ícone no próprio código (iconbin)



from gi.repository import Gtk, GdkPixbuf
from io import StringIO, BytesIO
import sys
import tempfile

iconbin = b"""\x89PNG\r\n\x1a\n\x00\x00\x00\rIHDR\x00\x00\x01\x00\x00\x00\x01\x00\x08\x06\x00\x00\x00\\r\xa8f\x00\x00 \x00IDATx\xda\xed\x9d}l]\xf5\x99\xe7?\xe7\xca\xb2\xac\xc8\xb22\x96eYY+\x1be\xb3Q&\x13e\xa2l&\x93I\xb3\x94Bx\x7f\xe9;-\xbd-\x14Z\x86\x02\xa5@\xa1\xa5)\xca"T\xb1l\x07\n\x14R\n\x94\xb6@1\xa5@\x19\x86\xe1\xad4\xa5\xd9l\x9a\xa6\xa9\xd7\x8a\xb2Q\x94\xcdF^o\x14EY\xcb\xeb\x8d\xbc\x9e\xc8\xb2\xac\xeb\xfd\xe3y\x0e\xbe1v\xe2\x97\xf3\xbb\xf7w\xee\xfd~\xa5Hi\x8a\xee=\xf7\x9c\xdf\xf3=\xdf\xe7\x1d\x04A\x10\x04A\x10\x04A\x10\x04A\x10\x04A\x10\x04A\x10\x04A\x10\x04A\x10\x04A\x10\x04A\xc8/\x12\xdd\x82\xda\xc5x\x17\x8d\xc0z`5\xd0\x00\x8c\x00\x03\xc0A\xe0pR\xa4\xa4\xbb$\x02\x10j\xcf\xf0\x97\x02[\x80\xab\x80\x96i\xfe\xb3!`?\xb0\x17\xf8\x13\xb0\x1b8\x06\x90\x14u\x0fE\x00B\x1e\r\x1f\xe0\xab\xc0#@\xf3\x1c>\xe2\xd8$B\xe8q\xd5P\x12)\x88\x00\x84\xb8\x8d\xbf\x00<\x08\xdc\x0e\x142\xfa\xd8Q`\x1f\xd0\r\xfc\xd1\xc9\xa1\xd7\tA\xee\x83\x08@\x88\xc8\xf8\x7f\x00|#C\xe3\x9f\x0e\xfdN\x08\x7frB\xd8\xeb\xee\x84HA\x04 T\xc9\xf8\xbf\x07|\xa7\x02\xc6?\x15JXPq\xaf\xab\x84=\xc0a`L\xae\x83\x08@\x08\xef\xf3\xdf\x05<\x80E\xf9c\xc1\x80\xab\x84\xbdeJ\xe1\xa4T\x82\x08@\xc8\xd6\xf8\xaf\x07~\x0c4F~\xb9c\xc0!N\x0f0\x1e\xf1\x18\x83T\x82\x08@\x98\x83\xf1_\t\xfc\x12X\x90\xd3\x9f1Y%t\xbbJ\x18\x93J\x10\x01\x08g&\x80M\xc0?\x01\xad5\xf4\xb3\xc6<\x96\x90\x06\x18\xf7\x94\xa9\x841\xa9\x04\x11\x80`\xc6\xbf\x1ax\x07XT\x07?7U\ti\x1aR*A\x04P\xd7\xc6\xbf\xd4\x8d\x7fy\x9d\xde\x82Q\x8f%\x94\xab\x84^\xacXI*A\x04P\xd3\xc6\xdf\x01\xbc\x05\xac\xd5\xdd8\r\xfdX\xc5b\xb9J\x18\x02F\xa5\x12D\x00\xb5b\xfc\x0b\x81_\x03\xe7\xe9n\xccH%L\x8e%\xf4I%\x88\x00\xf2j\xfc\x0b\x80_\x00\x9f\xa0:\x85>yG\t8\xe1*\xe1\xcfN\x08\xfb\xa4\x12D\x00y0\xfe\x06\xe0GX\x83\x8f\x8c?;\x8c\x94\xa9\x84\x94\x14\x8e\xfa\xbf\x8f\xd6\x93J\x10\x01\xc4k\xfci\x89\xef\xb7\x89\xab\xca\xaf\x96UBy\xe3\xd3>,\xe3P\xd3*A\x04\x10\xaf\xf1\x7f\x1d\xeb\xeek\xd4\x1d\xa9\x9aJ8P\xe6:\xa4\xf3\x12N%E\xc6D\x00B(\xe3\x07\xf8\x02\xf0\x13\xf2[\xe5W\xab*\xe1\x98+\x83\xd4m\xd8\x0f\x0c\x03#yU\t"\x80\xf8\x8c\xffR\xa0\x0bX\xa8;\x12=\x86\xcbTB\xda\xf4t<O*A\x04\x10\x17\x01l\xc4\xd2}\x1d\xba\x1b\xb9U\t}\xae\x0c\xd2\x14\xe4A,\xe30\x12cpQ\x04\x10\x8f\xf1\xaf\xc4\xea\xfb\x97\xe9n\xd4\x14N\xba\xdb\xd0\xc3D\xa1\xd2`,*A\x04\x10\x87\xf1/v\xe3_\xa3\xbbQ\xf3\x18\xc5\x9a\x9c\xcac\tG\xcab\t"\x80:3\xfe6\xe0W\xa8\xca\xaf\x9e\xd1?)\x96P1\x95 \x02\xa8\xae\xf17\x03?\x07>\x85\n}\x84\xd3U\xc2\xa1\xb2X\xc2n\xacPi()2*\x02\xa8\r\xe3o\x04\x1eGU~\xc2\xcc09\x05y\x00\x0b.\x0e\xcf\xc7m\x10\x01T\xc7\xf8\x1b\x80\xfbP\x95\x9f0w\x0c9\t\xec\x07\xfe\x80\xa5 \xfb\x9d\x10\xc6D\x00\xf1\x1a\x7f\x01\x1b\xdf\xfd\x00\xd0\xa4;"d\x841,\x98x\xd0\ta\x17\x96\x92<y&\xb7A\x04Py\xe3\xff"6\xc8SU~B%\xdc\x86\xdd~\xdevOE\x04"\x80\xca\x19?X\x95\xdf/\xa8\xadY~B\xfc\x18\x05\x9e\x01\xb6$E\x86\xca\xff\x0f\x05\x9f*\x87MX}\xbf\x8c_\xa84\x1a\x81\x9b\x81\x7f\x1c\xef\xa2S\n\xa0\xf2o\xffUX\x89\xefr\xdd\r\xa1\xca\xe8\x06.J\x8a\x0cJ\x01T\xc6\xf8\x97b\xb9~\x19\xbf\x10\x03\xd6\x01?\xf14\xb4\x08 \xb0\xf1w\xb8\xec_\xa7\xbb!D\x84O\x01_\x96\x0b\x10\xd6\xf8[\xfc\xcd\xafY~B\x8c\xe8\x05\xfe\xad\x08 \x8c\xf17aU~\xd7\xcb\xf8\x85\x88\xf1\x97:\x9c\xd9\x1b\x7f#p/p\x8d\x8c_\x88\x1cku@\xb35\xfe\x06l\x96\xdf\xedh\x96\x9f\x10?:D\x00\xd9\x19\x7f\x01\x9b\xe5w\x1f*\xf1\x15\xf2\x81&5\xa2dc\xfc`U~?\x00\x9a\xabt\x19cX3H?\xdeK\x8e\x8d\x16[\xe8\xd7\xd4\x82\xca\x8f\x85\xd3\xd1+\x02\xc8\x06\x1b\xb1\x05\x1emU2\xfc\xddX\xbaq\x17p\xb4|B\xad\xcf\x1cX\xe4\x7f\x96\x02\x7f\x8d\xed\x17\\\x8cU%6\xeb\xf1\xd5%\xc6\x80\xbd\xca\x02\xcc\xff\xed\xbf\x1a\xf8%\xb0\xb2\n_?\x02\xdc\x0f<\x94\x14\x19\x99\xa5b\xe9pBX\t\xfc\r\xb0\xde\xff\xad\r\xb5(\xd7\x03\xdeO\x8a\x9c/\x02\x98\x9f\xf1/\xc1\xc6y\xad\xaf\x92\xf1\xdf\rl\xcbb&\xbdg/\x96\x00+\x80\xbfuU\xb3\xd4\tA\xaeCma\x18+\x07\xde-\x02\x98\xbb\xc1\xb4c\x9d}\x17V\xe1\xebG\x81\xad\xfe\xe6/\x05\xfa}\xb8\xdb\xb0\xdc]\x86\x7f\x0f\xac\x02\xda=\x9e \xe4W\xfa\xdf\x91\x14\xd9\x06\xaa\x04\x9c\xabq,\xc4z\xac\xaf\xa2\xf2\xb9\xfe\x12\xf0\x18pw\xd6\xf3\xe1f@\x08\xadN\x08k\x9c\x10\xd60\x11hTF)\x1fx\x02\xb85}q\x88\x00fo\x08M\xd8\xce\xbe\xafU\xc9W~\x11\xb8!)r*\x82{\xd1\x82\xed1X\xe5\x84\xb0\xceUC\x9b\x08!J\xbc\x0b|6)2\x9c\xfe\x83\x08`\xf6~\xf2=\xc0w\xa8N\xa1\xcfv\xe0\xea\xa4\xc8@\xc4\xe4\xb8\x0c\x0b,~\x04\xd8\x00t\xba\xdb\xa0\xc0buq\xc0\xfd\xfe\xe3\xe5\xff(\x02\x98\xf9\xe1n\xf0\xb7\xfe\xf7\xa9NPl\x1f\xf0\xc9\xa4H_\xce\x08s\t\x16X\xfc;,\xb0\xb8\xc4\xdd\x06UJV\x0e\xc7\x81K\x92"\xfb\'\xff\x1f"\x80\x99\x1d\xe4\x02\xf0y,\xd7_\x8d\xa5\x9d\xc7\x80\x8f\'Ezj\x80D;\x9d\x10\xd6\xbb\xdb\xb0\xcc\tA\xd5\x93a0\x0c|\x16xw\xaa\xf1\xe1"\x80\xb3\x1fZ\x80\x8b\x81\xe7\\\xcaV\x1aC@\x11x3\xc6\xe5\x92\x19\x10k\xa7\x93\xc0\x06\xe0\xa3e\x84\xa0\xd4\xe3\xfc1\n\xdc\x06<9\xdd\xd9\x11\x01\x9c\xfd\x90n\xc0\n}\x96T\xe1\xeb\xc7\xca\x1e`\xa9\x0e\xeeu\x01\x0b".s\x85\xf0Q,\xeb\xb0H\x840k\x94\x80\x87\xb0A\xa0\xd3\x9e\x1d\x11\xc0\x99\x0f\xe4*\xa0\x0bX]\xa5Kx\x16\xb8i6U~5H\x08\xede\x84\xf0\x11,\xe3\xb0\x08\x950\x9f\r\xaf\x02\xd7\x9e-[$\x02\x98\xfe\xf0-\xc1\n}6U\xe9\x12\x8e\x01\x1fI\x8a\x1c\xd5\xd38\xcd\x1dK\ta\x9d+\x84U\xeeFH!L`\x0f\x163\xea?\xdb\x7f(\x02\x98\xfa\xa0\xb5\x03?\x05.\xaf\xe2e\xbc\xe0\x0c^\xd2\x139+!,\x9f\xe42t\xd6\xb1B\xe8\xc5"\xfe\x87g\xf2\x1f+7\xfb\xe1C\xd5\x82\x15\xfa\\Z\xe5K\x19u?N\x98\xee\xede\x81\xad\xb4\x05z\xd7x\x17\x8fbEHK\xb1\xf2\xe5\xf3\xebL!\x0c\x02\xd7\xc1\xcc\x8c_\n\xe0\xc3\xc6\xdf\x84\xe5\xf9o\x8e\x80\x1cw:\x93\x9f\xd2\x93\x99W\x0c\xa1m\x92BX\x81\xb5B\xd7Z\xda\xf1\x14\xf0\x15\xe0\xa5\xd9d\x8bD\x00\x13\x87\xa5\x11\xb8\x0bk\xb2\x89\xe1p\x8c\x02\xb7\x00\xcf\xcef\xdb\xabpVBhw\x12\xd8\x88\xd5!\xa4.C\x9e\x0b\x93\xc6\x80-\xc0\xc3\xb3u\x19E\x00\x13\x07\xe3\xab\xc0#\x91I\xc5S\xc0\x1b\xc0+@\x0fpLd\x90\xf9sO\xd3\x8e\xe7\x94)\x84\x0e\xf2\xd5\xcb\xb0\r\xb8s.\xcda\x89\x0e\x01\x05lQ\xc2S\xc4\xbb\xb7\xaf\x84e\x05\x0e\x00\xbf\xc3&\xff\x1c\x01\x06k\xad8(\x02\x15\xb8\xc4\xc9\xe0\x1e\xaaS\xfb1[\xbc\x01|i\xf2\xd2O\x11\xc0\xcc\x1e8\xc0f\xac\xcaoQ\x8e.}\x18\xdb\xfd\xde\xe3\x84\xb0\x0f\xe8-\xef\xf2\x12\xe6}.6b\x05`\x8b#\xbe\xd4n\xe0\x8a\xa4\xc8\x89\xb9~@\xbd\x13\xc0:\x7f\xc8\xcbr\xfeS\x06\xb1\xf4O7\xf0\x9f\x81\xfd@\x9f\x02\x88\xf3&\x81\xff\x80My\x8e\x11}n\xfc\x07\xe6\xf3!I\x1d?\xe0\x15n\xfckj\xf0\xe7\xf5\xfb\x01\xd9\x0b\xfc\x1e8\xe8\x840"\xd3\x9e\xd5\x19\xb9\x10x\x8b\xf8\xd2\xe5\x83X\x83\xcf\xfb\xf3u\x01\x1b\xea\xf4\xc1vb\x13}\xd6\xd4\xe8Ol\xf7?\xeb\xb1\x94f?\xd07\xde\xf5\x01!\x1c\x12!\xcc\x08+#\xb4\x91\x11\xe0\x0e`G\x16\xf1\x9f\xa4\x0e\x8d\xbf\r\x1b\xa1\xfd\x89:=\xd4\xa52\x85\xb0\xdb]\x86\x94\x10Fe\xf3\x1f\x9c\x93\xa5\xc0?S\x9di\xcfgzv[\x81\x7f\xc8*\x1b\x94\xd4\xd9Cm\x06~\x88\xadF\xd6\xc8\xaa\x89Cu\xc2\t!\x8d!\xd4\xb5\xcb\xe0\xe7\xe4\xe7Xv(\xa6s\xf24p[\x96\xcf%\xa9\xa3\x87\xda\x84\x05t\xb4\xb7of\n\xe1\x98\xc7\x10RB\xe8\xad\x87\xa0\xa2\x0f-\xf9.\x96\x06\x8c\xe9\x9c\xbc\x8d\xa5\xfb\x06\xb3\xfc\xd0\xa4N\x8c\xbf\x01\xf8&\xda\xdb7WB\x18pB\xe8\xe1\xf4,\xc3P\x8d\x9d\x13\xb0\xfd\x8eO\x11W3Q\x0f6\x0e.\xf3\xce\xd0\xa4\x0e\x8c\xbf\xe0\x92\xff\x87\xa8\x87<+\x0c:!\xec\x03\xfe\x8b\x13\xc2\x91\xac\xdfNU8+\x1b\xb1E/\x9d\x11]\xd6Q,\xdd\xb7?\xc4\x87\'5n\xfc\x00Wb\xad\xbdm\xb2\xdb`\x18\xc2\x06O\x1etB\xe8\xc6*\x15\xfb\xf3\xd2\xce\xecA\xbfW\xb0.\xc2\x98\x88\xf6j\xe0\xbdP\x15\x9f\xb5N\x00\xe7bC=:e\xa3\x15\xc5)\'\x84#N\x08{\xb1\x16\xd5c1\x12\x82g\x86~\x81\xcd~\x8c\x05#\xc0M\xc0\xf3!\xefYR\xc3\xc6\xbf\x06+\xf4Y!{\x8c\xe20\xf7c\xd5\x8a\xbb\x81?:!T=\xf5\xe8\x11\xff\xc7\x81k\x88\'\xe2?\x86\xc5\xab\xfeS\xe8\xe6\xaf\xa4F\x8d\x7f\x196\xcbo\xbdl/J\x8c9!\x1cww\xe1\x0f\xee>\x1c\xa9d`\xd1\x9b\x7f\xee\xc5\xda\xc0c\x8a\xf8?\x8d\xed\xef\x0b\x9euIj\xd0\xf8;\\\xcem\x96\x9d\xe5\x06%\xe0$V\x8fp\xc0\xdd\x86\x1eW\x0cA\xe2\x08\x9e\x19\xfa:\xf0\x00qe\x86\x82\xa4\xfb\xea\x82\x00|i\xe7S\xc0gP\xa1O\xde1\xec*\xe1\x88+\x84\x9e\xac\xdc\x06\x7f\xf3\x7f\r\xb8\x9f\x1aI\xf79\xa1-\xf2?c\xae\xae\x8e\x9f-x\x98\xd4\x90\xf1/\x00~\x80\r\xf6\xd0\xac\xc3\xda\xc3(\x16\x15?\x8e\xa5\x1f\xff\xe4ja\xc6*\xc1\xb3B\xcb\xb1\xe99W\x11\xd7\xf0\x97>l\x92\xef\xfeY\x9cy\xb0\x91\xf5EW\xbc\xe9\xea\xf6TQ\xed\xc1\xe2`\xdb\xa7s\'\x92\x1a1\xfej/\xed\x14\xaa\x83!\xacH\xa9\xcfc\t\x7fv\xc5p\xdc\xff\xbd\xe4F\xde\x81\x05\x83?\x8eMz\x8em\xe2\xcf \xf097\xd4\x99\x9e\xf9\xc5X\xa0\xf0r\xce\x9c\xe2\x1e\xc5\xe6K\xde\x03\xec\x9d\xfc\xf9I\r\x18\x7f\xba\xb4\xf3AT\xe5W\xef\x18sR8\xe9F\xd5\xe0g\xa2\xc5\x8d$\xc6\x97\xc3),\xdd\xf7\xc2Lc\x1d\xe3],\xc7\n\x96f\xd3\xcd:\x80\r\r}\xa3\x9c\x04\x92\x9c\x1b\x7f\xc1\xa5\xdc\x8f\xa9\xce\xd2NA\x98/am\x05\x1e\x9ai\xba\xcf\xe3\\\xef`\xbb\x14g\x8b\x93\x1ec\xd8\x91\xfeC\xde\x03e\x9b\xb1\x12_\x19\xbf\x90G<\r<6\xcb\\\xff\xd7\x99{z{!\xf0\x88\xc7\xcb\xf2M\x00\xe3]\xac\xc7"\xfe\xed:GB\x0e\xf1:\xb0u6\xb9~Oq\xdf4O\xbb]\xe3\xaa9\xbf\x04\xe0\xe3\xbc~B>\xa6\xb6\n\xc2d\xec\x01n\x9dC\xae\xffz,\x809_\x14=\x83\x90?\x02\x18\xefb\x91\x1b\xffj\x9d#!\x878\x02\xdc\x90\x1496\xcbs\xbf\x00\xb8!#\x9b=\x07\x0f\x88\x16rf\xfc\xad.\xfb7\xe9\x1c\t9\xc4\x80\x1b\xf1\\&\xf9n\xca\xe8\xed\x8f\x1b\x7fG\xae\x08\xa0\xac\xd0\xe7R\x9d#!\x87\x18\x06n\x05v\xce\xb1\xb5\xf7\x93d\x9b\xe6n\xcd\r\x01\x945m|\x11\x95\xf8\n\xf9\xc3\xa8\x9f\xdfW\xe7\xd2\xd7\xe0\xe3\xec\xb2~\xf1\r\xe7\x82\x00\xbc\xd0\xe7\x1b\xd8,?\x95\xf8\nyC\tx\x02xb\x1e\xad\xbd\xab\xc9~\xa0M\x7f\xf4\x04\xe0\x85>_\xc4J\x1eU\xe2+\xe4\x11\xaf\x02\xf7\xcds\x92\xef\x86\x8c\xe5\xff\xd1\xe8\x15\x80\xa7).w\xbf\x7f\x81\xce\x91\x90C\xec\xc2\xfa\xfaO\xce\xf3s>\x9a\xb1\xad\xeepe\x12\xb5\x02\xd8\x88\x95\xf8\xb6\xea\x1c\t9\xc4!\xe0+I\x91\xe3\x19\xa8\xe0\xac7X\xfd6\rDFI\x00\xe3]\xac\xc2\x163,\xd29\x12r\x88\x13X\xe3\xcd\xe1\x0c>\xab\x95lK\xddK\xae\x00\xe2$\x00os|\x0e\xeb\xdb\x16\x84\xbca\x08\xb8\x05\xd8\x93\xd1$\xdf6\xb2\r~\xa7\xed\xd2\xf1\x11\xc0x\x17\xed\xfe\xe6_\xabs$\xe4\x10\xa3X\xdf\xfd\xeb\x19\x8e1k\xce\xd8N\x0f\xa7\xfe\x7fT\x040\xdeE\x0b\xf0#\xe0\\\x9d#!\x87(\x01\x8f\x02Og<\xc3\xb09k\x05P\xaeL\n\x91\x18\x7f\x13\xf0}\xe2[\xc6(\x083\xc5\x8b\xc0\xfd\x01\xc6\x9cg\x9d\xfe\xfe\xdf\xe5\xff\xa3\x10\x81\xf1\xa7\xe3\xbc\xbe*\xe3\x17r\x8a\xed\xc0\x9d\x81F\x9a7el\x17\x03\xd1\x10\x80\xa78\xfe\x1e\xf86\xaa\xf2\x13\xf2\x89\xfd\xc0\x8dI\xd1*\xebr\x80\x91(\x08\xc0\x0b}\xaer\xe9\xaf*?!\x8f8\x86\xa5\xfbzst\xcd\xa7bQ\x00\x9b\xb1B\x1fU\xf9\ty\xc4I\xe0F\xa0;\xd4\xe2NG\xd0]\x8aU!\x80\xf1.\xd6b\xe9>\xcd\xf2\x13\xf2\x88\x11\xe0N\xe0\xdd\xc0\xc6\x9f\xbe\xb1\xb3$\x81\x96\xaa\x12\x80\xef\xed\xd3\xc6^!\xaf\x18\xc36\n=_\xa1M\xc7Y\x7f\xc7\x82\xaa\x11\x80\x17\xfa<\x07\xac\xd49\x12r\x8ag\x80\x87Co\xed\r\x88\xb6\xaa\x10\x80\xafa\xfe)\xd6\xe4#\x08y\xc4\x1b\xc0\x96Jl\xed\x9d\xa48\xb2T\x01\xff*\x1d\x08Z1\x02\xf0\\\xff\x0f\xd18/!\xbf\xd8\x0b\xdc\x92Ak\xef\\\xe2\rY\x12\xc0\xf2\x8a*\x00\x9f\xe8s\x1f\xf0eT\xe8#\xe4\x13\xbd\xc0u\xb3\x9d\xe4\x9b\x11\x863&\x80\xd5\x94\xd5\xdc\x14\x02\x1b\x7f\x01\xdb\xdbw\x97\x8c_\xc8)\xd2\x9dz\x07\xab\xf4\xfdYg\x01Z)k\xb6+\x044~\xb0B\x9f\x07Q\x95\x9f\x90O\xa4\x93|wT \xdd7\x1d\xfa=\x0e\x90%.\x0cJ\x00n\xfc\x17b3\xfc\xb5\xb1W\xc8#\xd2I\xbe/W\xd1\xf8\xf1Y\x82Y\x07\x1d/\x08\xbd\x19h\x1d\x96\xebo\xd19\x12r\x88\x12\xb0\r\xd8V\xa1\\\xff\x99^\xa6\xab\xc9\xbe`nC\xaa\xca\x0b\x01.x\x19\xb6\xbb\\K;\x85\xbc\xe25l\x92\xefh\x95\x8d\xbf\x11\x1b\x8a\x9b\xf5\x8b\xb4\x91\x10\x8bA\xbc\xd0\xe7\x15`\xa9\xce\x90\x90S\xec\xc2\xd2}C\x11\\\xcb\xed\x84\x1b\x90\xd3\x96)\x01x\xa1O\x17\xd9O0\x15\x84J\xe1\x10\x96\xee\xabzk\xefx\x17\x9b\xb09\x19\xa1\x02\xe8#\x99\x11\x80K\x95\xa7\xb0\x0e?A\xc8#N\xb8\xf1\x1f\x89\xc0\xf8\xd3\r\xd8-\x81\x7f\xef\xfc\t\xc0\x0b}\x1e\x00>\xaf3$\xe4\x14C\xc0M\xc0\x9e\x08\x8c\xbf\xc9\x8d\x7fE\xc0\xaf\xe9\xc53\x0b\x85y^l\xc1\xfd\x94\xdbQ\xa1\x8f\x90O\x8c\x02[\xb0I\xbe1\xe0^\xe0\xe2\xc0\xdf\xf1\xda\xbc\x17\x83x\x1e\xf1\xf3\xfe\xf6\x97\xf1\x0byD\tx\x18\x9b\xe4[u\x8cw\xf1\x19l\x11nH{\x1av\x851?\x02\x00\xce\xf3\x0fR\x95\x9f\x90W\xbc\x80\xa5\xfb\xc6"0\xfe\xd5\xd8X\xfc\xd0\x13\xb2nI\x8a\x13\x1b\x8b\ns\xbc\xd8\x95\xc0/\xd18/!\xbf\xd8\x0e\xdc6\xcf\xad\xbdY\x19\x7f;V8\x17\xbav\xe6I\'\xbd\x0f\x90\xcc\xe1b;\x81\xdf\x03\xcbt\x86\x84\x9cb?pY\x95\xba\xfb&\xdbS#V;se\xe0\xaf\xda\r\x9c?\x99\xf0\n\xb3\xbc\xd8\x05~\xb12~!\xaf8\n\x14c0~\xc7\xf7\x80\xcb+\xf0\x9b?;\x95\xda)\xcc\xc2\xf8\x0bX[\xef\x06\x9d!!\xa7\x18\xc4r\xfd\x07b\xb8\x98\xf1.\xae!|\xd0\xef\x94\x1b\xff\x94k\xcag\xf3\xc5k\xb1t\x89 \xe4\x11\xa7\x80[\x93"\xefGb\xfc\x1b\x80G\x08\xdb-[\x02n\xc0\xa6\x191g\x02p\xe9\xaf\xd6^!\xaf\x18\xc5\xa6R\xbd\x14\x89\xf1/\xc6\x86\xe3\xb6\x06\xfe\xaa\x87\x80\x97\xce\x94\xe2,\xcc\xe0b\xc1\xc6yie\xb7\x90G\x94\xb0\xe8\xf7\xc3\xd5n\xedu{J\x87\xe3.\x0f\xfcUo\x03[\xcf\xf6\x9bg\xa2\x00Z$\xfd\x85\x1c\xe35\xe0\x9eHr\xfd\r\xd8\x84\xac\xf3\x02\x7f\xd5A\xe0\xda\x99\xb43\x17f\xf0\xf6\xff\x1aZ\xe2!\xe4\x13;\x81\x9b\x92"\xc3\x11\x18?\xc0\xcd\xc0\xf5\x84\r\xfa\r`A\xbf\x81\x99\xfc\xc7g\xbb\x90Vl\x05\x92 \xe4\r\x07\xb1\x88\xff@$\xd7s1\x96\xf2\x0b\xb9\x08w\x14\xb8\x96Y\x0c0-\xcc\xc0\xf7\xd7d\x1f!o8\xee\x128\x8a\xad\xbd^9\xfb\x14a\xdb{K\xd8\xfc\x80Y\xed+<\x93\x02h\xc4Z$\x05!O8\t\xdc\x98\x14\xe9\x8e\xc4\xf8\xdb\xb1E\xb8\x8b\x03\x7f\xd5\xf3\xc0\xa3\xb3\rt\x9e\x89\x00.E\x15\x7fB\xbep\n\xb8;)\xf2f$\xc6\xdf\x04<\x0e\xac\x0f\xfcU\xbb\xb0\x1a\x87Y\x07:\x0b\xd3\\x\x01\xb8E\xe7I\xc8\x11\xc6\xb0\xd6\xdeg"1\xfe\x02\xb0\x15\xf8T\xe0\xaf\xea\x05\xbe4\xd7@\xe7t\n`9\xe1S\x15\x82\x90\xa5\xff\xfb<p\x7f$\xb9~\x80k\xb0A9!\xdb\xe5\x87\xdc\xf8\xfb\xe6\xfa\x01\x85i.\xfej4\xe4C\xc8\x8f\xf1\xbf\x07\xdc\x19Ck\xaf\xe3\\,\xdf\x1f\xb2]~\xccU\xfa\xee\xf9|\xc8TF\xde\x80\xad\xf4\x12\x84<\xa0\x07\xf8J\x15\xb6\xf6N\xf7\xf6_\x8e\r\xcai\x0bLz\xff\x00\xbc8\xdfIFS\x11\xc0\x1a\xc2\x0e$\x14\x84,\xfd\xdfk\xa7\xebt\xab\x82\xf1\xb7\xb9\xf1\x87\x0e\x9e\xa7\x8bK\xe6\xed\xee\x14\xa6\x90\xffE\x9d+!\x07\xe8\xf77\xff\xc1H\x8c\xbf\t\xdb\xe2\xb3\xa9\x02\x8a\xe7\xa6\xac\xb6\x16\x15\xa6\x90\xff\x97\xebl\t\x91c\x08K{\xed\x88\xc4\xf8\x0b\xc0\xb7\x81/\x106vv\x1c\x0b\xfaeV\xdd8\xf9b\x97\xa1\xdc\xbf\x107F\xf0\xad\xbd\x91\x18?\xd8t\xeco\x116\xe2\x7f\n\xeb\xed\xcfT\xf1L&\x80\x8bu\xbe\x84\x881\xc6\xc4\xd6\xdeX\xb0\x11\x1b\xec\xd1\x1c\xf8w\xcf\xba\xccw&h\x98\xc4d\x97T\xf8\xe6\x95\xe0\x03_\xa6\x11\xa5\x1e\x853\x9f\x95\x97\x80{ch\xedu\x9bY\x86\x05\xfd\xda\x03\xff\xeeg\x80\'B\xd48\x94K\x96\xe6\n\x040F\xdc\x8f\xd9\x01\xfc\x0flXa\xbf_G\x07\xf0W\xd8\xe0\x91\x95~=\x0bD\n\x02\x13\xb9\xfe\xdb\x92\xa2\xad\xb4\x8a\xc0\xf8[\xb19\xfe+\x03\x7f\xd5v\xac\xbc9\xc8\xaa\xf2r\x02XK\xb8\xc2\x85Q\x7f\x80?\x06v\x9c\xed!\xfa\xd4\x94UX\r\xf5\xf9~m\xad\xd8H2\x11B\xfd\xa1\x07\xb8!)2\x18\x89\xf17a\x1b\xb1B/\xc3=\xe0\xbf;\xd8\xaa\xf2\xa4\xecG\xdd\x85U/e\x8d~\xac&\xfags\x95nN\x08k\xb0\x89\xc4\xe7\xfb\xdf\x17\xa2\x19\x85\xf5\x80^\xe0\xe3\x11M\xf2-\x00\xdf\x04\xee\'lo\xff\t\xe0\x8a\xd0]\x8dI\x99\xff\xffk\xb2o\\8\x89\xcd`\x7f;\xe3\x87\xd0\xe6\xea\xe0cX\xcf\xc2Rw\x19\xb4\xa6\xac\xb6\xd0\x0f\\\x1d\xd1$_\xdcF~N\xd8\xde\xfeS\xc0\x97([\xe2\x19\x9a\x00\n\xc0\xff$\xdb\x9e\xe5\x11,W\xfbL\xe0\x87\xd2\x80\xa5.Su\xb0\t+\xc3T\xfc \xdf\x18\xc2\n^^\x8c\xe5\x82\xc6\xbbX\xef/\xca\x90#\xf2\xd2\x88\xffC\x95hlJ\xdf\x98\x8b\xc8~`\xc1n\xe0\xd9\xd0?\xc0\xdd\x8aC\xfe\xe7Y\x1fa\xbe\x06k\xc8\xb8\x04+kn\t,\xd7\x84l1\xe2>\xf6K\x11\x19\xff\x12,\x86\x15\xd2\xf8Kn3\x8fV\xaa\xab1U\x00\x17\x03\xefd\xfc\x00\xafH\x8al\x8f\xc0_[\xccD0\xf1\\,\xdb\xd0,u\x10-\xc6\xb01\xdew\x86\x8a|\xcf\xe1\x1c-\xc4\x96w\x86\xae\x92\xdd\x8e\r\xf4\xacXcS\xaa\x00\xb2Ne\x1c\x82\xea\xfbm\xce\xa2}\xfe\xe7e\x8f\xde\xaev7\xe1\x12,\xd3\xd0*u\x10\rJX\xa3\xcb\x96\x88\x8c\xbf\t\x1b\xe6yi\xe0\xaf:\x88\x8d2\xabhWcJ\x00\x7f\x99\xf1\xe7\xbe\x1b\xc3`\x86)\x08a\x04[\x93\xb4w\xbc\x8b\x87]\xce\xa5\xea\xe0\x1cW\x0bR\x07\xd53\xfe\x1d\xd8\xfe\xfa\xe1H\x8c\xbf\x80\x8d\xc5\xffj\xe03\xd1\x8f\xa5\xfb*>\xc44\x84\x02\x18\xc1\xd6\x87G\r\x8f\xae\x1e\xf3?\xaf\xf9\x9a\xe6UXi\xe7E\x9c^{ \x84\xc7\x01\xac\xbbo \x12\xe3\x07\xf8\x04\xb6R,\xe4\x19\x18\x01nc\x9e\x83=\xe6K\x00\xcb3\xfeA\xfb\xf2v\xfa\\r\xf6\x00=\xe3]l\xf3X\xc1:&R\x8d\x8b\xb1\xda\x03\xa9\x83\xec\x91\xf6\xf5\xf7EtM\xeb\x81\x1f\x126\xdd7\x86\x05;_\xadVoC\xe2Q\xf3\x7f\xc9\xf8a\xfe\x9b\xa4\x86\xa6\n\xb8:X\x81\xa5\x1a/su\xd0&u\x90\x99\xfc-V;`<\xe9y/\x05^!\xec>\xcc\x12\xf0\x02\x96\xea\xacZys\xe2\x9bJ\xffW\x86\x9f\xf9^R\xe4\xa2Z>\xb1\xe3]t\xf8\xe18_\xea`^\x18r\x9f\xff\x85\x88\x9em+\xb6\xb97t\xc4\x7f\x17\xf0\xe9\xa4H\x7f5\x7fo\x03V\x03\x90%\x8e\xd4\xfa\xa9M\x8a\x9c\xc0\xb6\xaf\xbe\xed\xea`\xa5\xab\x834v\xd0.u0#W\xf1>\x7f\x0b\xc6b\xfc\x95\x8a\xf8\x1f\xc1"\xfe\xfd\xd5\xfe\xcd\rd?\xbc\xf0d=\x9db\x8f\x1d\xec\xf3?O\xfa&\x98\xb5\x9c^\xa6,u\xf0a\xdf\xf7\t\xe0\xb1X\\E\xaf(\xbd\x99\xf0\x11\xffA\x97\xfdQ\x8c2k\xc0"\xddY\xe2_\xea\xf9d;\xab\xbf\x0b\xbc\xeb\x87j%\x16P\xba\x08\x0b*\xb6\x13v\\t\xecH\xfb\xfa\xb7F\xd4\xd7\x0fp%\xd6\xb4\x16\xb2&d\x04\x9b\x1c\xf4~,\x0f#D\xf3\xcc0BJ\x06c\xc0~\xff\xf3\x8c71\xad\x05>\x8a\xb5\x92.u\x02.\xd4\x91\xf1o\'\xa2\xbe~\xc7zl\xaa\xcf\xc2\xc0\xaa\xe7Q\xe0\x85\x98jd\x1a\x02\xfdPajB\x18\xc0\xe6"\xbc7\xde\xc5\xbdX\xfa5U\x07\xeb\xb1\xd4c-\xab\x83}X\xae\x7f0\x96\x0b\xf2\x1a\xff\x1f\x11~y\xe7k\xd8\xe6\xa2\xd1\x98\x1e\x88\xdag\xab\xab\x0e\x0e\xfa\x9fg]\x1d\xac\x99\xa4\x0e\xdajH\x1d\x1c\xc1&\xda\x1e\x8b\xc8\xf8\x17\xfa\x9b\x7f]\xe0\xaf\xda\r\xdc\x11K\x85ch\x02X \xf3\x9e\xb3:\xd8\x0el\x1f\xef\xe2\xbe2up\x89\x1f\xd0E\xe47\xb3p\x82\x88f\xf8\xbb\xf17b\xd3\x85\xaf\x0c\xfcU\xbdX\xd0\xefx\x8c\x0fF\x04\x90\x0fu\xd0\x8e51}\xcc\xd5\xc1\x92\x1c\xa9\x83\x93X\xae\x7fgD\xc6\xdf\x80\xd5\xf8\x7f\x8d\xf0\x11\xff[\xb0\x18\x10\xb1\x12@\xd6>\xfb_\xc8\x843\'\x84\xfe2u\x90\xc6\x0e\xd6\x95\xc5\x0e\x16EJ\xbc\xa7\xb0\xe1\x16\xafEd\xfc`\xe3\xef\xef%|\x8d\xff\x16\xac0\x8e\x98\t ki\xd2)\x93\xad\x98:x\xdec\x07+\xb1Y\x07\x17`\xd3\x91\xda#P\x07\xa3\xc0C\xc0\x93\x91\x19\xc0Z\xac\xc6\xbf5\xe0w\x8c\x01\x8f\x01\xcf\xc6\xd8\x15{\xday\xf2m\xa6\xff=\xc3\xcf\xecI\x8a\xfc;\x99j\xd5\xa4\xed\xb2I\xea\xa0\xb3\n\xea`\x0c\x9be\x7fGD+\xbb\xf1\xb2\xf7_aU\x9b!\xf1\xaa\xc7<\x86b?3i3\xd0\xff\xcb\xf0\x8d\xd1\x0f\xfc\xeb\x98\x1e|\x1d\x13B+\xd6\xe2|N\x99:\xe8\x08\xac\x0e\xd2B\x9f\x1bc\x8az{\xc4\xff\xa7d?\xf8v2\xf6`S}\x8e\xe5\xe1\x8c\xa4#\xc1\xfe/\xd9\x15A\x0c\x03\x7f\x17\xcb\x18g\xe1\x03\x03(8\x01\xacqu\xb0\xc1\xd5AK\xc6\xc6\xff\x1e\xd6\xdd\x17S\xae\xbf\x11k\xbb\xfd\x06aS\xdf\xbdX\x83On\xda\xe1\xd3\x9bq4C\x02X\xe0\xd2S\x04\x10W\xec\xa0\x04\x1c\xf6?/\xfb\x1bq\x056\x1e\xed"\xff{\xc7<\x0c\xa4\x84\xe5\xbbc+\xf4)\x00\xd7cu\xfe!\x8d\x7f\x10\x1b\xec\x91\xabY\x18\xa9\x02\xe8\xc2V\x1bg\x85g\x93"\xd7\xc9\xecr\xa5\x0e\x96\xb8\xbbp\x016\x15i\t3\x0f\x94\x8d\xb8\xec\xdf\xe2\x9d\x92\xb1\xfc.\xb0\xb6\xde\xe7\x08\x1b\xf4\x1b\x01\xee\xc4\x02\x9e\xa5<\x12\xc0\xcdX9dV\xe8\x03\xfe*\xb2zoa\xe6\x86\xb3\x00K5\xae\xc5\n\x91\xd6\xb8\xbb\xd04\xc5[o/\xf0\x14\xf0vle\xae\xe3]\xac\xc5\x06{,\r\x1c\xf3x\x94\x88\x06\x99\xce\x85\x00\xd6\x02\xff5\xc3\xcf\x1d\xf5@\xc8\x1b2\xa7\xdc\x93\x01\xee\x1a\xac\xc4\x8a\x91\xfe\x02\x0b"\xfe7w\'\x0e\xc4\xd2\xd57\xe9\xba;\xb1\x88\xff\xc6\xc0_\xf5\x9a\xbb=\xb9l\x83O\xca\x82$\xff\x87lw\x9c\xbf\x0c|\xae\x96F\x83\t\xb9!\xad\x16lm\xf7U\x81\xbfj\xaf\x9f\xf1\xbe\xbc\xde\xabB\xd9\x1b\xbb\'\xe3\xcf\xdeL\xf8\xd5\xc9\x820\xd9\xf8\x1b\xb1\xea\xc3\xd0\xe9\xbe>\xac\xc4\xb9/\xcf\xf7\xab\x00\x1f\x8c\xc8\xfeM\xc6\x9f\xdd\n|\xcb\x03L\x82P\t\xe3O#\xfe_\'l\xc4\xff$p\x07\x84\xdd\xdc[I\x05\x90\xfa2YG0?E\xf8VKA(\xaf\xf1\xbf\x9f\xb0\x95\x8f#X\x1f\xc1\x9b\xb5\xe0\xde\x96\x13\xc0a\xb2\xefZj\x01\xbe\xef>\x99 \x84\xc4\x1a\xc2\xd7\xf8\x97\x80\xa7\x81\xa7c\x0c|\xce\x8b\x00<\x7f\xf9J\x80\xef\xd8\x04l\x91+ \x04|\xfbwbi\xece\x81\xbf\xeaM\xe0\xbeZ*s\x9fl\x94!\xdc\x80\x06\xf7\xc9\xaer\x99&\x08Y\x1a\x7f\x0b\xf0\x03\xc2\xa7\xfb\xba\xb1\xe6\xa6\xc1Z\xba\x7f\x93\t\xe00\xb6\xb0 k4\xbb<\xbbXGV\xc8\xd0\xf8\x1b\xb1\x9e\xfb\xd0\x11\xff\xa3X\xc4\xbf\xb7\xd6\xee\xe1i\x04\xe0n\xc0\x83\x01T\x00X\x8f\xfaO\xc6\xbb8OJ@\xc8\xc0\xf8\x0b\xc0\x97\t\xdf\xe0\x93F\xfc\xf7\xd6\xe2}\x9c\xca/\x7f\x8f\xeck\x02Rt\x02]\xc0\x17\x15\x13\x10\xe6a\xfc\x00\x17R\x99\x88\xff}\xc0\x1b\xb5Z\xd0\xf6!#\xf4z\xe6\x07\x03~g\x07\xf0c\xe0;\xca\x0e\x08s\xc4j\xe0q\xb2\xdfjU\x8e\x126\xd4\xe4\xc9Z\x89\xf8O\x85d\x1a\x86m\x02\xfe\x8cu\x87\x85\xc2\x18\xb6!\xe5q`G\x8c#\x93\x85(\xdf\xfe\x9d\xc0/\xb1\xecRH\xbc\x89\xad,\x1f\xac\xe5\xfb\x99\x9cAb}\x02K\x0b\x86\xde\x1d0\x82\xf5P\xff\xca\xdd\x8f\xc3\xb5\xcc\xb8\xc2\xbc\x8c\xbf\xc5\xd5\xe3\x17\x02\x7fU\x0f\xd6\xcc\xd6[\xeb\xf749\xc3\xcdnp\x7f\xfd\xaa\n]K\t\x18\xf0\x9b\xffO\xc0\x0e\xe0\x88\xc8@\xf0\xf3\xd8\x88\xed\xee\xfbN\xe0\x97\xd2Q\xac\xc1gO=\xdc\xd7\xe4,7})\xf0G,\x82_I\x94\xb0\xd9\x82\xfb\x80\xb7\x80\x9d\xc0\xa1<\xf6[\x0b\x99\x18\x7f\x1a\xf1\x7f\x9c\xb0A\xbf\x93\xc0W\x80\xd7\xea\xa5\x8b\xf5l\x04\x00V\xc4\xf3x\x15\xaf\xb1\x84\r\x9e8\x08\xbc\xe3\xca\xe0\x80b\x06uE\x00\xe7\xb9\xdf\x1f\xf2E4\x82u\x11>VO\xaa3\x99\xc1\xcd_\x00\xfc\x9ax\x8ax\x86\xb0=s;\x9c\x10\xf6\x03\xfd\x9a;P\xb3\xc6\xbf\x12\x8bE\x85l-/\x01O\x00\xdf\xaa\xb7i\xd6\xc9\x0c\x1f\xc2b\xe0\xb7\xd8\x98\xa8\x980\x82\xf5e\xefqW\xa1\x1b8\x9a\xb7\xb9l\xc2\xb4\xe7\xae\x03\x8bC\x9d\x17\xf8\xab\xde\x00\xae\xab\xf5\x88\xff|\x08\x00\xac\xd6\xfa\x9f\t\xdbm5\x1f\x8ca[\x8e\xf6\xbb2\xd8\xedq\x03\xed\'\xc8\xa7\xf173\x11\xf1\x0fY4V7\x11\xff9\x13@\x19\t\\\x83\x8dZj\x8c\xfcw\x95\xb0\x80\xceal\xa7\xde\xef\x80\xfd\xf5\xc8\xf095\xfet\xaa\xcfw\t\x1f\xf1\xfflR\xac\xcd2\xdfL\t\xc0\x1fL\x83?\x94\xad\x84\xaf\x0f\xc8\x12\xc3\xfe\xb0w\xbb:\xe8\x91\xab\x10\xad\xf1\x17\xfcE\xf3#\x14\xf1\x8f\x8b\x00\xca\xd8\xb9\x12\xf9\xd8\x90\xae\xc2\tw\x15\xde\x92\xab\x10\x95\xf1\xe3\xfe\xfe\xaf\x08[\xe6[\x97\x11\xffL\x08\xc0\x1fT\x13\xd6\x86\xf9\xdd\x9c\x92\xc0dW\xa1\x17+K\xfe-V{0\xa0\xacBU\x08`%\xf0\x8f\x84\r6\xd7m\xc4?3\x02(S\x02\xb7\x03\xdf\xcbAL`6o\x86\xa3XV\xe1\x1d\xac\x05\xb4O\xaeBE\x8c\xbf\xc3\xdf\xfc\xe7\x04\xfe\xaa\xba\xa8\xf1\x0fN\x00e$p3\xe1\xdb2\xab\xe5*\xf4c;\x0e\x7f\x83U#\x1e\xd4\xb6\xa3 \xc6\xbf\x00\xdb.\xa4\x88\x7f\x9e\x08\xc0\x1f^\x01\xeb\x17\x08\xdd\x9eYm\xa4\xae\xc2\x0ew\x15zP\x01R\x16\xc6\xdf\x80\xc5\x93\xeeE\x11\xff\xfc\x11@\x19\tl\xc2\xf2\xb6\xf5\xb0\x0cd\x04\xab9\xe8vWa\x0fj\\\x9a\xeb\xb9\xf9<\x96ZV\xc4?\xaf\x04\xe0\x0f\x13`16A\xe5\x0b5\x14\x178\x1b\xd2.\xc6\xc3N\x06;\x81}\xeaU\x98\xd1\x99\xd9\x88\x05\xfdT\xe3\x9fw\x02\x98\x14\x17\xd8\x0c\xdc\x8dU\x0f6\xd4\xd9=Mk\x0evx\xec\xa0\x1b8\xae7\xcf\x87\xce\xc9R\xac\xed;\xe4\xd0\x19E\xfc+M\x00e\x0f\xb8\x05\x8b\xe8\xde\x08\x9cK\xb6\x8bG\xf3\x82Q,\x90\xd8\xc3\xe95\x07cun\xfc\xadX\xc4\x7fs\xe0\xafz\x1d\xab\xf1?)S\xaf0\x01\x94=\xec&`\x05p5p\xb9\xff\xbd\x1e\x07\x82\xa6m\xcdG\xb0\xc9G\xbf\x07z\x92"Cuf\xfcMX\xc0\xf8\xfa\xc0\xe7`/\x16\xf4;*3\xaf"\x01L\x8a\x11\xb4\x01\x1b\x80\xcf\xb9:X\\\xc7\xf7~\x18\x0b$\xeerWa\x0fV\x9e\\\xcb\xc6\xdf\x00\xdc\x85\xd5\x8e\x84t\r{\xdd\xf8{d\xe2\x91\x10\xc0\x14\x07\xa1\xdd\xc9\xe0\x93"\x03\xc6\xb0@\xe2>,\x90\xb8\x0b\x1bz2ZC\xc6\x0f\xf0\x19\xe09\xc2F\xfc\x07\x81k\xa9\x91\xe5\x9d5I\x00\xd3\x90\xc1:\'\x83s\x81%u\xfcLJ\xd8\xd0\x93>w\x15~\x07\xec\xcd\xbb\x1f;\xde\xc5z,\xe8\xd7\x11\xf0kF\xb0\xe0\xf36Uo\xe6\x84\x00\xa6 \x836l\xd3\xeb\x15\xae\x0cVP\x7f\x99\x84r\x9cru\xb0\x8b\x899\x07\xbdyz\xbb\xf9@\x99\xb7\x08\x1f\xf1\xdf\x86E\xfc5;2\x8f\x040\xe9\xd0\x14\x80\x85Xc\xc8%X\xc4x\r\xb5Wr<[Wa\x108\x84\rg\xd9\x89\xcd9\x18\x89\xf89\xb6`\x11\xff\xd0#\xe5\xde\xc0j\xfc\x15\xf1\xaf\x05\x02\x98\xc2\x7fl\xc6V\x8bm\x06.\xf0\xf8A{\x9d?\xbf!\xe0\x186\xf4\xe47\xee*\x0cD\xf4\xdc\x1a\xb1\xa5\xb0\x7fO\xd8\x88\x7f7\x16\xf4\xeb\x93I\xd7 \x01Ls\xb0\xd2 \xe2%\xee*,\x85\xba\xde78\xe2\xea \xedd\xdc\x89\x95\'\x97\xaa\xf4\x8c\n\xc07\x81\x07\x08_\xe3\xff\xe9\xa4H\xb7\xcc\xb9N\x08`\x8a\x83\xd6\xea\xfe\xe5e\xd8@\x89U\xd4O)\xf2t\xfep:\x12\xed\x1dl\xd6Aw\xa5\\\x85\xb2\xcdR]\x84\xaf\xf1\xbf\x0ex]\x11\xff:%\x80)\x0e^\x0b\x96R\xbc\xb0\xccUXX\xe7\xcfy\x18\x9b\x82\xf4\xbe\xbb\n\xbb\x93"\'\x02>\x87\xb5X\xd0/t\xc4\xff[\xc0\x13\x8a\xf8\x8b\x00\xa6;\x88MXVa\xa3\xbb\n\x9b\xe4*0\xeao\xcen&\xb6.\x1d\xcc\xca\x88|y\xe7;\x84_,\xbb\r\xb8[\x11\x7f\x11\xc0L\x0ff\x83\xab\x83\x15X\x8a\xf1\\,\xab\xd0T\xe7\xaeBZs\xf06\x135\x07\xc3s\xbc\xc7\x95\x8a\xf8\xbf\x8eE\xfc\x87d\xc2"\x80\xb9\xba\n\xcd\xc0"\x8f\x19\\\xe4*\xa1\xde\xb3\ni\xcd\xc1NW\x07\xbb\x92"\xc7fA\xb0\x8f`\x13\xa2B\xd7\xf8\x7fz\xa6\xd7%\x88\x00frx\x1b\xb1@\xe2:w\x15\xce\xc5\xea\x0f\xea\xb9\x00i\xcc\xd5A\xba\xa0u\x07Vs06\xc5\xfd+\x00\xdf\x00\x1e\x0c|\xcf\xfa\x80\x8f\'E\xf6\xeb\xd4\x8a\x00B\x91A\xc1\xd5\xc1r\x97\xb2\x1781\xd4s\x01R\xc9\xd5\xc1Q\xac<\xf9\xb7\xae\x0e\x86\\M]\x8a\xed\xef\x0b]\xe3\x7f5\xf0\x9e"\xfe"\x80J\xba\n\x0b\xdc5H]\x85M\xee:\xd43F\x99(O\xfe\x03\x16\x8d\xef\x0c\xf8}#\xc0\xad\xc0\xcf\x14\xf1\x17\x01T\x93\x10\x1a\xb0\x94\xe2\xda2WaU\x9d\xbb\n\xa5\xc0>\xff\x18\xf0\x10\xb0U#\xbdD\x00\xb1\xb9\n\x0b\xb0\x9a\x83\x8b]\x1dl\xc02\rBv\xe4\xf2\x12p\x83\xc6\xb1\x8b\x00b\'\x844\x90x\x8e\xab\x83\xf3\\\x16\x17tw\xe6\x8c\x9dX\xc4\x7f@\xb7B\x04\x907u\xd0\x0c\xac\xc6\xca\x937\xfb\xdf\x1buwf\x8c\xc3\xc0\x15I\x91\xc3\xba\x15"\x80<\x93\x01\xee*t2Q\x9e|\x0e*O>\x13\x06\x80O&Ev\xe9V\x88\x00j\x8d\x10\xd2@\xe2\xa62W\xa1\xde\xcb\x93\xcbq\n\xb8\x01xQ\xe9>\x11@=\xb8\nMLt2^\x88e\x18\xea\xd5U\x18\xc3\x16\xcb\xfcG\xa5\xfbD\x00\xf5\xe8*421\xf4\xe42W\t\xadur\x0bJ\xc0\xf3\xc0\x8dj\xf0\x11\x01\x88\x10\xccUh\xc6z\x14\xd29\x07\xcbk\xd8U\xd8\x8eM\xf5\xd1H/\x11\x800\x85\xab\xd0m\xe1&K\x00\x00\x01&IDAT\x08,c\xa2\xe6`\x13\xb5\xd3\xc9\xb8\x1f\xb8L\r>"\x00a\xe6\xea\xa0\xd5UA\xaa\x0e\xf2Z\x9e|\x0cK\xf7\xed\xd3\x93\x15\x01\x08sS\x07MX\xf0\xf0\n,\x90\xb8:\'\xae\xc2\x10\xb6%\xea]E\xfcE\x00\xc2\xfc\xc9\x00w\x15\x169\x11\xa4i\xc6\x18\xcb\x93G\x80\xdb\x80\xa7e\xfc"\x00!\x9c:h\xc6\n\x8fRu\xb0$\x82KK\x1b|\xeeQ\xbaO\x04 TN\x1d4`5\x07\x17\xbb:\xd8@uj\x0e^\x06\xbe\xa4t\x9f\x08@\xa8\xae:h\xc5j\x0e\xd2\xcdK\x95\x08$\xee\xc2\x82~J\xf7\x89\x00\x84\xc8\xd4\xc1\xba22XO\xf6s\x0e\x0e\x03\x17i\x83\x8f\x08@\x88_\x1d\xb4a\x01\xc4\xac\xd4\xc1\t,\xd7\xdf\xa3;,\x02\x10\xf2\xa7\x0eVcA\xc4t\xf0\xc9l\x8a\x90\x06\xb1\xbe\xfe\x1d\xba\xa3"\x00!\xff\x84\xd0\x8cU"~\x0c\xcb0L\xd7\xc04\x02\xfc\x0cx@U~"\x00\xa1vI\xa1\xd9I`\r\xd6\xea<\x82m\x1e\xea\xd6\xf2\x0eA\x10\x04A\x10\x04A\x10\x04A\x10\x04A\x10\x04A\x10\x04A\x10\x04A\x10\x04A\x10\x04A\x10\x84P\xf8\xff\x12\x83\x92\xa1\xdeZ\x8b\xe3\x00\x00\x00\x00IEND\xaeB`\x82"""
try:
    with open(tempfile.gettempdir()+'/yellowbook.png', 'r') as icon:
        pass
except:
    icon = open(tempfile.gettempdir()+'/yellowbook.png', 'wb')
    icon.write(iconbin)
    icon.close()


loc = sys.path[0]
class Window(Gtk.Window):
    def __init__(self):
        self.open_button = Gtk.ToolButton(Gtk.STOCK_OPEN, tooltip_text = 'Abrir arquivo TXT')
        self.open_button.connect('clicked', self.open_file)
        self.convert_button = Gtk.ToolButton(Gtk.STOCK_MEDIA_PLAY, tooltip_text = ' Executar auto-edição')
        self.convert_button.connect('clicked', self.start_process)
        self.save_button = Gtk.ToolButton(Gtk.STOCK_SAVE, tooltip_text = 'Salvar a Edição (Criará um novo arquivo)')
        self.save_button.connect('clicked', self.save)
        self.text_view = Gtk.TextView(wrap_mode = 2)
        self.text_buffer = self.text_view.get_buffer()
        self.scrolled = Gtk.ScrolledWindow(hexpand = True, vexpand = True)
        self.scrolled.add(self.text_view)
        self.grid = Gtk.Grid()
        self.grid.attach(self.open_button, 0, 0, 1, 1)
        self.grid.attach(self.convert_button, 1, 0, 1, 1)
        self.grid.attach(self.scrolled, 0, 1, 3, 1)
        self.grid.attach(self.save_button, 2, 0, 1, 1)
        Gtk.Window.__init__(self)
        self.add(self.grid)
        self.set_default_size(800, 650)
        self.set_title('PyTxT')
        self.set_icon_from_file(icon.name)
        self.show_all()
        self.connect('delete-event', Gtk.main_quit)
    
    def open_file(self, widget):
        dialogo = Gtk.FileChooserDialog("Escolha um arquivo", self,
            Gtk.FileChooserAction.OPEN,
            (Gtk.STOCK_CANCEL, Gtk.ResponseType.CANCEL,
            Gtk.STOCK_OPEN, Gtk.ResponseType.OK))
        response = dialogo.run()
        if response == Gtk.ResponseType.OK:
            self.file_path = dialogo.get_filename()
            self.text = open(self.file_path, 'r').read()
            self.text_buffer.set_text(self.text)
        dialogo.destroy()

    def start_process(self, widget):
        start_iter = self.text_buffer.get_start_iter()
        end_iter = self.text_buffer.get_end_iter()
        self.text = self.text_buffer.get_text(start_iter, end_iter, True) 
        for _ in range(3):
            self.format_paragraph()
            self.format_spaces()
        self.format_capt()
        self.text_buffer.set_text(self.text)

    def format_paragraph(self):
        count = 0
        converted_text = '\t'
        for char in self.text:            
            if count:                
                if char != '.':
                    converted_text += char
                    count = 0
                    if char == '\n':
                        converted_text += '\t'
                else:
                    converted_text += char

            else:
                if char == '.':
                    converted_text += char
                    count = 1
                else:
                    if char == '\n':
                        converted_text += ' '
                    else:
                        converted_text += char
        self.text = converted_text

    def format_spaces(self):
        converted_text = self.text
        tabs_list = ['\t —', '—\t']
        for x in tabs_list:
            while x in converted_text:
                converted_text = converted_text.replace(x, '—')
        converted_text = converted_text.replace('—', '— ')
        print('Tabs ok')

        opt = []
        for x in range(1, 20):
            space = ' ' + x * ' '
            tabs = '\t' + x * '\t'
            opt.append(space)
            opt.append(tabs)
        opt.append('\t ')
        opt.append(' \t')
        for x in opt:
            while x in converted_text:
                if '\t' in x:
                    converted_text = converted_text.replace(x, '\t')
                if ' ' in x:
                    converted_text = converted_text.replace(x, ' ')
        print('spaces ok')
        
        self.text = converted_text

    def format_capt(self):
        #Reconhecimento de Capítulos tipo 'Capítulo 1'
        converted_text = self.text
        seq = ''
        mem = False
        for word in self.text.split():
            if word.isupper():
                mem = True
                seq += word + ' '
            else:
                if mem is True:
                    if len(seq) > 7:
                        if word.isdigit():
                            converted_text = converted_text.replace(seq + word + ' ' , '\n\t' + seq + word + '\n\t')
                            print('founded seqN = '+ seq + word)
                        else:
                            converted_text = converted_text.replace(seq, '\n\t' + seq + '\n\t')
                        print('founded seq = '+ seq)
                    mem = False
                    seq = ''

        self.text = converted_text

    def save(self, widget):
        save_dialog = Gtk.FileChooserDialog("Pick a file", self,
                                            Gtk.FileChooserAction.SAVE,
                                           (Gtk.STOCK_CANCEL, Gtk.ResponseType.CANCEL,
                                            Gtk.STOCK_SAVE, Gtk.ResponseType.ACCEPT))
        response = save_dialog.run()
        if response == Gtk.ResponseType.ACCEPT:
            new_book = open(save_dialog.get_filename(), 'w')
            start_iter = self.text_buffer.get_start_iter()
            end_iter = self.text_buffer.get_end_iter()
            text = self.text_buffer.get_text(start_iter, end_iter, True) 
            new_book.writelines(text)
            new_book.close()
        save_dialog.destroy()



app = Window()
Gtk.main()